import React from "react";
import { shallow, mount } from "enzyme";
import { V3BrickDoc } from "./V3BrickDoc";

jest.mock("../V3NextExample/V3NextExample", () => {
  return {
    V3NextExample() {
      return <div className="V3NextExample">V3NextExample</div>;
    },
  };
});

const doc =
  '通用卡片容器构件。\n\n```html preview\n<eo-card card-title="卡片标题">Content</eo-card>\n<!-- HTML DELIMITER start (1nbbm8) --\nbrick: eo-card\nproperties:\n  cardTitle: 卡片标题\n  textContent: Content\n-- HTML DELIMITER end (1nbbm8) -->\n```\n\n## Examples\n\n### Fill Vertical\n\n```yaml preview\n- brick: div\n  properties:\n    style:\n      width: 100%\n      height: 200px\n      background: "#ddd"\n      padding: 20px\n  slots:\n    "":\n      bricks:\n        - brick: eo-card\n          properties:\n            cardTitle: 卡片标题\n            fillVertical: true\n          slots:\n            "":\n              bricks:\n                - brick: div\n                  properties:\n                    textContent: Content\n# -- YAML DELIMITER (1nbbm8) --\n# <div style="width: 100%; height: 200px; background: #ddd; padding: 20px">\n#   <eo-card card-title="卡片标题" fill-vertical>\n#     <div>Content</div>\n#   </eo-card>\n# </div>\n# \n```\n\n### Vertical Center\n\n```yaml preview\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n    verticalCenter: true\n  slots:\n    "":\n      bricks:\n        - brick: div\n          properties:\n            textContent: Content\n            style:\n              height: 50px\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-card card-title="卡片标题" vertical-center>\n#   <div style="height: 50px">Content</div>\n# </eo-card>\n# \n```\n\n### Extra Slot\n\n```yaml preview\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n    hasExtraSlot: true\n  slots:\n    extra:\n      bricks:\n        - brick: div\n          properties:\n            textContent: Extra Div\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-card card-title="卡片标题" has-extra-slot>\n#   <div slot="extra">Extra Div</div>\n# </eo-card>\n# \n```\n\n### Footer slot\n\n```yaml preview\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n  slots:\n    "":\n      bricks:\n        - brick: div\n          properties:\n            textContent: Content\n    footer:\n      bricks:\n        - brick: div\n          properties:\n            textContent: Footer Div\n            style:\n              padding: 5px 20px\n              borderTop: "1px solid #ddd"\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-card card-title="卡片标题">\n#   <div>Content</div>\n#   <div slot="footer" style="padding: 5px 20px; border-top: 1px solid #ddd">\n#     Footer Div\n#   </div>\n# </eo-card>\n# \n```\n\n### Header Style\n\n```yaml preview\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n    headerStyle:\n      background: "#abc"\n      color: "#fff"\n      fontSize: 22px\n  slots:\n    "":\n      bricks:\n        - brick: div\n          properties:\n            textContent: Content\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-card card-title="卡片标题" id="brick-1">\n#   <div>Content</div>\n# </eo-card>\n# \n# <script>\n#   const brick_1 = document.getElementById("brick-1");\n#   brick_1.headerStyle = {\n#     background: "#abc",\n#     color: "#fff",\n#     fontSize: "22px",\n#   };\n# </script>\n# \n```\n\n### Background\n\n```yaml preview\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n    background: false\n  slots:\n    "":\n      bricks:\n        - brick: div\n          properties:\n            textContent: Content\n- brick: div\n  properties:\n    style:\n      height: 10px\n- brick: eo-card\n  properties:\n    cardTitle: 卡片标题\n    background: "#abc"\n  slots:\n    "":\n      bricks:\n        - brick: div\n          properties:\n            textContent: Content\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-card card-title="卡片标题" id="brick-1">\n#   <div>Content</div>\n# </eo-card>\n# <div style="height: 10px"></div>\n# <eo-card card-title="卡片标题" id="brick-2">\n#   <div>Content</div>\n# </eo-card>\n# \n# <script>\n#   const brick_1 = document.getElementById("brick-1");\n#   brick_1.background = false;\n# \n#   const brick_2 = document.getElementById("brick-2");\n#   brick_2.background = "#abc";\n# </script>\n# \n```\n';

describe("V3BrickDoc", () => {
  it("should work", () => {
    const wrapper = mount(<V3BrickDoc doc={doc} />);
    expect(wrapper.find(".V3NextExample").length).toBe(7);
  });
});
