[//]: # "atom-bricks/card/general-card-list.ts"

<style>
table th:first-of-type {
    width: 200px;
}
table th:nth-of-type(2) {
    width: 200px;
}
table th:nth-of-type(3) {
    width: 100px;
}
table th:nth-of-type(4) {
    width: 100px;
}
</style>

<details>
<summary>History</summary>

| Version | Change                                                                                                                                                                                                                   |
| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1.27.0  | 新属性 `target`,`href`,`fields.disabled`                                                                                                                                                                                 |
| 1.24.0  | 新属性 `showOperationAreaWhenHovering`                                                                                                                                                                                   |
| 1.20.0  | 支持分页：新属性`showPagination`,`paginationProps`,`total`,`page`,`pageSize`；dataSource 支持格式`Record<string, any>[]\|{list: Record<string, any>[];total: number;page: number;page_size?: number;pageSize?: number;}` |
| 1.19.0  | 新属性 `cardMinWidth`                                                                                                                                                                                                    |

</details>

# 描述

通用卡片列表模版，会根据 dataSource 动态渲染出每个 card-item。

# INPUTS

| property                      | type                                                                                                                                                                                                                                            | required | default              | description                                                                                                                                                                                                                                                                       |
| ----------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| q                             | string                                                                                                                                                                                                                                          | -        | -                    | 是否有查询条件                                                                                                                                                                                                                                                                    |
| showCard                      | boolean                                                                                                                                                                                                                                         | -        | true                 | 是否显示外层卡片                                                                                                                                                                                                                                                                  |
| alwaysShowDescription         | boolean                                                                                                                                                                                                                                         | -        | false                | 是否总是总是展示描述区域                                                                                                                                                                                                                                                          |
| descriptionDataType           | `list`\|`section`                                                                                                                                                                                                                               | -        | false                | 指定描述区的显示形式，若 descriptionList 为数组时，应当指定为 `list`,若 descriptionList 为字符串时，应当指定为 `section`, 搭配 `alwaysShowDescription` 使用,针对描述数据为空时产生的高度变化使用                                                                                  |
| cardWidth                     | string                                                                                                                                                                                                                                          | -        | -                    | 卡片项的宽度，非响应式卡片可设置该属性                                                                                                                                                                                                                                            |
| cardMinWidth                  | string                                                                                                                                                                                                                                          | -        | 260px                | 卡片项的最小宽度，响应式卡片可设置该属性                                                                                                                                                                                                                                          |
| dataSource                    | Record<string, any>[]\|{list: Record<string, any>[];total: number;page: number;page_size?: number;pageSize?: number;}                                                                                                                           | ✔️       | -                    | 卡片信息数据源                                                                                                                                                                                                                                                                    |
| fields                        | { cardTitle?: string;cardTitleTag?: string;cardSubtitle?:string;descriptionList?: string;icon?:string;iconColor?:string;iconStyle?: string;iconSize?: string;iconOffsetX?: string;iconOffsetY?: string;iconOpacity?: string;disabled?:string; } | -        | -                    | 字段映射, 跟 dataSource 一起使用来获得运行时 cardTitle、cardTitleTag、cardSubtitle、descriptionList、icon、iconColor、iconStyle、iconSize、iconOffsetX、iconOffsetY、iconOpacity、disabled（其中 cardTitleTag 为卡片标题后的标签的值，标签需要结合 cardTitleTagMapping 属性使用） |
| cardLayoutType                | "icon-as-background" \| "icon-small-align-left" \| "icon-align-right" \| "icon-align-left"\|"icon-align-middle"                                                                                                                                 | -        | "icon-as-background" | 卡片布局类型，具体样式看 Demo                                                                                                                                                                                                                                                     |
| cardTitle                     | string                                                                                                                                                                                                                                          | -        | -                    | 卡片 title                                                                                                                                                                                                                                                                        |
| cardSubtitle                  | string                                                                                                                                                                                                                                          | -        | -                    | 卡片 副标题                                                                                                                                                                                                                                                                       |
| cardTitleTagMapping           | Record<string\|number,{text?:string;color?:'green'/'red'/'blue'/'orange'/'cyan'/'purple'/'geekblue'/'gray'}>                                                                                                                                    | -        | -                    | 卡片标签的值与文案／颜色对应的 map，配置可以参考[基本数值映射](developers/brick-book/brick/presentational-bricks.brick-value-mapping)                                                                                                                                             |
| showCardTitleTagCircle        | boolean                                                                                                                                                                                                                                         | -        | false                | 是否显示卡片标签前面的小圈圈，按照平台规范通常表示状态的标签可设置为 true                                                                                                                                                                                                         |
| descriptionList               | string[]                                                                                                                                                                                                                                        | -        | -                    | 描述列表                                                                                                                                                                                                                                                                          |
| hideDescCircle                | boolean                                                                                                                                                                                                                                         | -        | -                    | 描述信息为数组的时候，默认显示每个`<li>`前面的小圈圈，不需要的时候可以隐藏                                                                                                                                                                                                        |
| descMaxLine                   | number                                                                                                                                                                                                                                          | -        | 3                    | 描述信息的最大行数，默认为 3 行，当信息比较少的时候可以设成 3 行以下。UI 规范建议 3 或者 3 以下。                                                                                                                                                                                 |
| icon                          | MenuIcon                                                                                                                                                                                                                                        | -        | -                    | 卡片右下角的 icon                                                                                                                                                                                                                                                                 |
| iconColor                     | 'green'/'red'/'blue'/'orange'/'cyan'/'purple'/'geekblue'/'gray'                                                                                                                                                                                 | -        | -                    | 卡片类型为 "icon-small-align-left" \| "icon-align-right" \| "icon-align-left" \|"icon-align-middle" 的时候可以设置 icon 的颜色                                                                                                                                                    |
| reverseBgColor                | boolean                                                                                                                                                                                                                                         | -        | false                | 反转背景色，背景色为 icon 传入的颜色，icon 为白色。卡片类型为 "icon-small-align-left" \| "icon-align-right" \| "icon-align-left" \|"icon-align-middle" 的时候可以设置。                                                                                                           |
| iconSize                      | string\|number                                                                                                                                                                                                                                  | -        | 100px                | 卡片类型为 "icon-as-background" 的时候可以设置 icon 的大小                                                                                                                                                                                                                        |
| iconOffsetX                   | string\|number                                                                                                                                                                                                                                  | -        | 0                    | 卡片类型为 "icon-as-background" 的时候可以设置 icon 的 X 轴偏移量，向左为正数向右为负数                                                                                                                                                                                           |
| iconOffsetY                   | string\|number                                                                                                                                                                                                                                  | -        | 0                    | 卡片类型为 "icon-as-background" 的时候可以设置 icon 的 Y 轴偏移量，向上为正数向下为负数                                                                                                                                                                                           |
| iconOpacity                   | number                                                                                                                                                                                                                                          | -        | 0.45                 | 卡片类型为 "icon-as-background" 的时候可以设置 icon 的透明度                                                                                                                                                                                                                      |
| iconStyle                     | Record<string, any>                                                                                                                                                                                                                             | -        | -                    | 卡片右下角的 icon 的样式，例如需要调整 opacity、right、bottom 的时候可以使用                                                                                                                                                                                                      |
| urlTemplate                   | string                                                                                                                                                                                                                                          | -        | -                    | 卡片跳转 url，支持模版变量                                                                                                                                                                                                                                                        |
| target                        | string                                                                                                                                                                                                                                          | -        | -                    | 卡片跳转 target，例如可以设置成 \_blank，则为新窗口打开                                                                                                                                                                                                                           |
| href                          | string                                                                                                                                                                                                                                          | -        | -                    | 卡片跳转 href，通常用于外链的跳转，优先于 url 执行                                                                                                                                                                                                                                |
| showOperationAreaWhenHovering | boolean                                                                                                                                                                                                                                         | -        | false                | 是否鼠标悬浮显示操作区                                                                                                                                                                                                                                                            |
| operateBricks                 | BrickConf & { propertyFieldMap: Record<string, string> }[]                                                                                                                                                                                      | -        | -                    | 操作区 slots 的 bricks，其中`propertyFieldMap`可配置该操作构件的属性来自于 item 里的哪个字段的数据，例如`{propertyFieldMap:{dataSource:"",name:"title"}}`表示该操作构件的`dataSource`属性来自于`item`，`name`属性来自于`item.title`。                                             |
| topRightOperateBricks         | BrickConf & { propertyFieldMap: Record<string, string> }[]                                                                                                                                                                                      | -        | -                    | 右上角操作区 slots 的 bricks，配置参考`operateBricks`。                                                                                                                                                                                                                           |
| bottomRightOperateBricks      | BrickConf & { propertyFieldMap: Record<string, string> }[]                                                                                                                                                                                      | -        | -                    | 右下角操作区 slots 的 bricks，配置参考`operateBricks`。                                                                                                                                                                                                                           |
| tagConfig                     | {text: string;field: string;value?: any;isNotEqual?: boolean;hideOperate?: boolean;}                                                                                                                                                            | -        | -                    | 右上角 tag 标签                                                                                                                                                                                                                                                                   |
| showPagination                | boolean                                                                                                                                                                                                                                         | -        | false                | 是否显示分页器                                                                                                                                                                                                                                                                    |
| total                         | number                                                                                                                                                                                                                                          | -        | -                    | 分页器的总数，一般直接来自于 dataSource.total，不用另外设                                                                                                                                                                                                                         |
| page                          | number\|string                                                                                                                                                                                                                                  | -        | -                    | 分页器的页码，一般直接来自于 dataSource.page，否则为`${query.page=1\|number}`，不用另外设                                                                                                                                                                                         |
| pageSize                      | number\|string                                                                                                                                                                                                                                  | -        | -                    | 分页器的条数，一般直接来自于 dataSource.pageSize 或者 dataSource.page_size，否则为`${query.pageSize=10\|number}`，不用另外设                                                                                                                                                      |
| paginationProps               | Record<string,any>                                                                                                                                                                                                                              | -        | -                    | [分页器属性](developers/brick-book/brick/presentational-bricks.general-pagination)                                                                                                                                                                                                |

## tagConfig

| property    | type    | required | default | description                                                                                                        |
| ----------- | ------- | -------- | ------- | ------------------------------------------------------------------------------------------------------------------ |
| text        | string  | -        | -       | tag 标签文字，建议 1-2 个文字                                                                                      |
| field       | string  | ✔️       | -       | 是否显示标签的决定字段，例如设置字段为"default"，值为 true 的时候表示只有当`dataSource.default===true`时才显示标签 |
| value       | string  | ✔️       | -       | 是否显示标签的决定值                                                                                               |
| isNotEqual  | boolean | -        | false   | 对应字段等于 value 的时候显示标签                                                                                  |
| hideOperate | boolean | -        | -       | 显示标签的时候隐藏操作区                                                                                           |
